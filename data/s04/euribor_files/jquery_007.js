(function(g){var w,x="watermark",k="watermarkClass",q="watermarkFocus",p="watermarkSubmit",d="watermarkMaxLength",b="watermarkPassword",y="watermarkText",j=":data("+x+")",z=":text,:password,:search,textarea",m=["Page_ClientValidate"],v=!1;g.extend(g.expr[":"],{search:function(a){return"search"===(a.type||"")},data:function(c,a,h){var n,l=/^((?:[^=!^$*]|[!^$*](?!=))+)(?:([!^$*]?=)(.*))?$/.exec(h[3]);if(l&&(n=g(c).data(l[1]),n!==w)){if(l[2]){n=""+n;switch(l[2]){case"=":return n==l[3];case"!=":return n!=l[3];case"^=":return n.slice(0,l[3].length)==l[3];case"$=":return n.slice(-l[3].length)==l[3];case"*=":return n.indexOf(l[3])!==-1}}return !0}return !1}}),g.watermark={version:"3.0.6",options:{className:"watermark",useNative:!0},hide:function(a){g(a).filter(j).each(function(){g.watermark._hide(g(this))})},_hide:function(C,i){var a=C.val()||"",r=C.data(y)||"",o=C.data(d)||0,B=C.data(k),t,A;r.length&&a==r&&(C.val(""),C.data(b)&&(C.attr("type")||"")==="text"&&(t=C.data(b)||[],A=C.parent()||[],t.length&&A.length&&(A[0].removeChild(C[0]),A[0].appendChild(t[0]),C=t)),o&&(C.attr("maxLength",o),C.removeData(d)),i&&(C.attr("autocomplete","off"),window.setTimeout(function(){C.select()},1))),B&&C.removeClass(B)},show:function(a){g(a).filter(j).each(function(){g.watermark._show(g(this))})},_show:function(n){var i=n.val()||"",t=n.data(y)||"",e=n.attr("type")||"",A=n.data(k),r,o,c;i.length!=0&&i!=t||n.data(q)?g.watermark._hide(n):(v=!0,n.data(b)&&e==="password"&&(r=n.data(b)||[],o=n.parent()||[],r.length&&o.length&&(o[0].removeChild(n[0]),o[0].appendChild(r[0]),n=r,n.attr("maxLength",t.length))),(e==="text"||e==="search")&&(c=n.attr("maxLength")||0,c>0&&t.length>c&&(n.data(d,c),n.attr("maxLength",t.length))),A&&n.addClass(A),n.val(t))},hideAll:function(){v&&(g.watermark.hide(z),v=!1)},showAll:function(){g.watermark.show(z)}},g.fn.watermark=function(f,e){if(!this.length){return this}var i=!1,a=typeof f=="string";return typeof e=="object"?(i=typeof e.className=="string",e=g.extend({},g.watermark.options,e)):typeof e=="string"?(i=!0,e=g.extend({},g.watermark.options,{className:e})):e=g.watermark.options,typeof e.useNative!="function"&&(e.useNative=e.useNative?function(){return !0}:function(){return !1}),this.each(function(){var h=g(this),c,l,o,n;if(h.is(z)){if(h.data(x)){(a||i)&&(g.watermark._hide(h),a&&h.data(y,f),i&&h.data(k,e.className))}else{if(e.useNative.call(this,h)&&(""+h.css("-webkit-appearance")).replace("undefined","")!==""&&(h.attr("tagName")||"")!=="TEXTAREA"){a&&h.attr("placeholder",f);return}h.data(y,a?f:""),h.data(k,e.className),h.data(x,1),(h.attr("type")||"")==="password"?(c=h.wrap("<span>").parent(),l=g(c.html().replace(/type=["']?password["']?/i,'type="text"')),l.data(y,h.data(y)),l.data(k,h.data(k)),l.data(x,1),l.attr("maxLength",f.length),l.focus(function(){g.watermark._hide(l,!0)}).bind("dragenter",function(){g.watermark._hide(l)}).bind("dragend",function(){window.setTimeout(function(){l.blur()},1)}),h.blur(function(){g.watermark._show(h)}).bind("dragleave",function(){g.watermark._show(h)}),l.data(b,h),h.data(b,l)):h.focus(function(){h.data(q,1),g.watermark._hide(h,!0)}).blur(function(){h.data(q,0),g.watermark._show(h)}).bind("dragenter",function(){g.watermark._hide(h)}).bind("dragleave",function(){g.watermark._show(h)}).bind("dragend",function(){window.setTimeout(function(){g.watermark._show(h)},1)}).bind("drop",function(s){var r=s.originalEvent.dataTransfer.getData("Text");h.val().replace(r,"")===h.data(y)&&h.val(r),h.focus()}),this.form&&(o=this.form,n=g(o),n.data(p)||(n.submit(g.watermark.hideAll),o.submit?(n.data(p,o.submit),o.submit=function(s,r){return function(){var t=r.data(p);g.watermark.hideAll(),t.apply?t.apply(s,Array.prototype.slice.call(arguments)):t()}}(o,n)):(n.data(p,1),o.submit=function(r){return function(){g.watermark.hideAll(),delete r.submit,r.submit()}}(o))))}g.watermark._show(h)}})},m.length&&g(function(){for(var c,e,a=m.length-1;a>=0;a--){c=m[a],e=window[c],typeof e=="function"&&(window[c]=function(f){return function(){return g.watermark.hideAll(),f.apply(null,Array.prototype.slice.call(arguments))}}(e))}})})(jQuery);